{"version":3,"sources":["../js.js"],"names":["canvas","document","getElementById","style","position","canvasH","window","screen","availHeight","canvasW","availWidth","height","width","context","getContext","Star","x","y","length","opacity","parseInt","factor","increment","Math","random","rotate","PI","save","translate","round","beginPath","i","lineTo","closePath","fillStyle","shadowBlur","shadowColor","fill","restore","stars","star","push","animate","clearRect","drawBg","forEach","draw","requestAnimationFrame","fillRect"],"mappings":"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","file":"js.js","sourcesContent":["/**\r\n * Created by leeseean on 2017/7/13.\r\n */\r\nlet canvas = document.getElementById('canvas');\r\ncanvas.style.position = 'fixed';\r\nlet canvasH = window.screen.availHeight;\r\nlet canvasW = window.screen.availWidth;\r\ncanvas.height = canvasH;\r\ncanvas.width = canvasW;\r\nlet context = canvas.getContext('2d');\r\nclass Star {//创建星星实例\r\n    constructor(x,y,length,opacity){\r\n        this.x = parseInt(x);\r\n        this.y = parseInt(y);\r\n        this.length = parseInt(length);\r\n        this.opacity = opacity;\r\n        this.factor = 1;\r\n        this.increment = Math.random()*.03;\r\n    }\r\n    draw(){\r\n        context.rotate(Math.PI*1/10);\r\n        context.save();\r\n        context.translate(this.x,this.y);\r\n        if(this.opacity > 1) {\r\n            this.factor = -1;\r\n        }else if(this.opacity <= 0){\r\n            this.factor = 1;\r\n            this.x = Math.round(Math.random()*canvasW);\r\n            this.y = Math.round(Math.random()*canvasH);\r\n        }\r\n        this.opacity += this.increment*this.factor;\r\n        context.beginPath();\r\n        for(let i=0;i<5;i++){//加粗星星\r\n            context.lineTo(0,this.length);\r\n            context.translate(0,this.length);\r\n            context.rotate(Math.PI*2/10);\r\n            context.lineTo(0,-this.length);\r\n            context.translate(0,-this.length);\r\n            context.rotate(-(Math.PI*6/10));\r\n        }\r\n        context.lineTo(0,this.length);\r\n        context.closePath();\r\n        context.fillStyle = `rgba(255,255,200,${this.opacity})`;\r\n        context.shadowBlur = 5;\r\n        context.shadowColor = '#ffff33';\r\n        context.fill();\r\n\r\n        context.restore();\r\n    }\r\n}\r\n\r\nlet stars = [];\r\nfor(let i = 0; i < 3000; i++) {\r\n    let x = Math.round(Math.random()*canvasW);\r\n    let y = Math.round(Math.random()*canvasH);\r\n    let length = 1 + Math.random()*2;\r\n    let opacity = Math.random();\r\n    let star = new Star(x,y,length,opacity);\r\n    stars.push(star);\r\n}\r\nfunction animate() {//count总的星星个数\r\n    context.clearRect(0,0,canvasW,canvasH);\r\n    drawBg();\r\n    stars.forEach(star=>star.draw());\r\n    requestAnimationFrame(animate);\r\n}\r\nfunction drawBg() {//黑色背景\r\n    context.save();\r\n    context.fillStyle = '#000';\r\n    context.fillRect(0,0,canvasW,canvasH);\r\n    context.restore();\r\n}\r\n\r\n\r\nanimate();\r\n\r\n"]}